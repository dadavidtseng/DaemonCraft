{
  "id": "snapshot_1764279117255_xt9tm5ftl",
  "approvalId": "approval_1764012950775_2xd693fvo",
  "approvalTitle": "Review Steering Document: product.md",
  "version": 1,
  "timestamp": "2025-11-27T21:31:57.255Z",
  "trigger": "approved",
  "status": "pending",
  "content": "# Assignment 7: Product Overview\r\n\r\n## Product Purpose\r\n\r\nAssignment 7 transforms SimpleMiner from a terrain exploration sandbox into a **playable Minecraft-like voxel game with AI agent integration**. This assignment introduces core gameplay mechanics (mining, crafting, inventory) combined with a unique AI agent system that allows Claude Desktop/Code to control autonomous agents within the game world.\r\n\r\n**Core Problem Solved:** Creating a functional gameplay loop where both human players and AI agents can interact with a voxel world through intuitive Minecraft-style mechanics, while establishing a robust AI-to-game integration framework for future autonomous gameplay research.\r\n\r\n## Target Users\r\n\r\n### Primary User: Course Instructor/Grader\r\n- **Needs**: Evaluate Assignment 7 implementation against Minecraft implementation patterns\r\n- **Pain Points**: Need clear demonstration of all 7 systems working together in MVP demo\r\n- **Success Criteria**: 11 MVP features functional, Minecraft-authentic UI, 3+ AI agents operational\r\n\r\n### Secondary User: Developer (Student)\r\n- **Needs**: Build gameplay systems following Minecraft patterns, integrate AI agents via KADI\r\n- **Pain Points**: Complex multi-system integration, UI refinement requirements, tight deadline (12/12)\r\n- **Success Criteria**: All systems integrate cleanly, code follows SOLID principles, extensible architecture\r\n\r\n### Tertiary User: AI Researchers (Future)\r\n- **Needs**: Framework for autonomous agent gameplay research and experimentation\r\n- **Pain Points**: Difficulty integrating AI with game engines, lack of standardized interfaces\r\n- **Success Criteria**: MCP tool registration working, agents can perceive and act in game world\r\n\r\n## Key Features\r\n\r\n### 1. **Minecraft-Style Registry System (JSON-Based)**\r\n- Data-driven architecture for blocks, items, and recipes\r\n- Persistent IDs for save/load compatibility\r\n- JSON format using Engine's json.hpp library\r\n- Migration from XML to JSON for consistency\r\n\r\n### 2. **Inventory & Crafting System**\r\n- 36-slot player inventory (27 main + 9 hotbar) following Minecraft structure\r\n- ItemStack pattern with quantity and durability\r\n- 2×2 crafting grid with 10 Minecraft-style recipes\r\n- Item pickup with magnetic attraction and stacking\r\n\r\n### 3. **Mining & Placement Mechanics**\r\n- Progressive block breaking with visual crack overlay (Minecraft system)\r\n- Tool effectiveness and durability (Wood=60, Stone=132 uses)\r\n- Right-click block placement with validity checks\r\n- Item drops spawn as entities in world\r\n\r\n### 4. **Minecraft-Authentic UI**\r\n- Pixel-perfect HUD (hotbar, crosshair, item counts)\r\n- Full inventory screen with mouse drag-and-drop\r\n- F3 debug overlay (Minecraft style)\r\n- Uses Engine WidgetSubsystem (requires refinement)\r\n\r\n### 5. **AI Agent Framework (KADI Integration)**\r\n- 3-10 autonomous AI agents controllable via Claude Desktop/Code\r\n- Command queue system (MOVE, MINE, PLACE, CRAFT, WAIT)\r\n- Vision system for nearby blocks and entities\r\n- MCP tool registration via KADIWebSocketSubsystem\r\n\r\n### 6. **Menu System**\r\n- Save/Load/Create game functionality\r\n- Enhanced AttractMode with Minecraft-style buttons\r\n- JSON serialization for player state and inventory\r\n- World management (create, continue, load saved games)\r\n\r\n### 7. **Sound Effects System**\r\n- Minecraft-style audio for mining, placing, crafting\r\n- FMOD-based using Engine AudioSystem\r\n- Block-type-specific sounds (stone, dirt, wood)\r\n- UI sounds (button clicks, inventory open/close)\r\n\r\n## Business Objectives\r\n\r\n1. **Academic Credit**: Successfully complete Assignment 7 requirements by 12/12 deadline\r\n2. **Minecraft Fidelity**: Demonstrate authentic Minecraft implementation patterns throughout\r\n3. **AI Integration Pioneer**: Establish KADI-based AI agent framework as foundation for future research\r\n4. **Code Quality**: Maintain SOLID/DRY/YAGNI/KISS principles for maintainable codebase\r\n5. **Extensibility**: Design systems that support future assignments and feature additions\r\n\r\n## Success Metrics\r\n\r\n### MVP Completion (Required for Credit)\r\n- **Registry System**: ✅ All blocks, items, recipes load from JSON\r\n- **Inventory**: ✅ 36 slots functional with pickup and transfer\r\n- **Mining**: ✅ Progressive breaking with tool effectiveness\r\n- **Placement**: ✅ Right-click placement consuming inventory\r\n- **HUD**: ✅ Hotbar with item icons and quantities visible\r\n- **Inventory Screen**: ✅ E key opens Minecraft-style UI\r\n- **Crafting**: ✅ 2×2 grid with 10 working recipes\r\n- **AI Agents**: ✅ 3+ agents spawn, move, mine via Claude commands\r\n- **KADI Integration**: ✅ 3+ MCP tools registered and callable\r\n- **Menu System**: ✅ Save/load/create game working\r\n- **Sound Effects**: ✅ Mining, placing, crafting sounds play\r\n\r\n### Stretch Goals (Bonus)\r\n- ⭐ Tool durability fully implemented\r\n- ⭐ 10 agents coordinating simultaneously\r\n- ⭐ Pixel-perfect Minecraft UI recreation\r\n- ⭐ Agent pathfinding (A* algorithm)\r\n- ⭐ Shift-click quick transfer\r\n\r\n### Performance Targets\r\n- **60 FPS**: Sustained with inventory UI open and 3-10 agents active\r\n- **UI Rendering**: < 2ms per frame for all widgets\r\n- **Agent Update**: < 0.5ms per agent per frame\r\n- **JSON Loading**: < 100ms for all registries at startup\r\n\r\n## Product Principles\r\n\r\n### 1. **Minecraft Implementation Fidelity**\r\nEvery system must follow Minecraft patterns, not generic voxel game patterns. This includes:\r\n- Inventory slot layout (27+9 structure)\r\n- Crafting mechanics (shaped vs shapeless)\r\n- Mining progression (crack overlay, tool effectiveness)\r\n- Item stacking rules (64 for blocks, 1 for tools)\r\n- UI visual style (pixel-perfect when feasible)\r\n\r\n**Rationale:** Assignment requirements explicitly specify Minecraft patterns throughout. Deviating risks implementation rejection.\r\n\r\n### 2. **JSON-First Data Architecture**\r\nAll game data (blocks, items, recipes) must use JSON format via Engine's json.hpp library, replacing legacy XML systems.\r\n\r\n**Rationale:** User explicitly requested JSON migration (3 separate comments). Consistency across all A7 data files.\r\n\r\n### 3. **KISS Over YAGNI for MVP**\r\nPrioritize simple, working implementations over future-proofing. Only implement 2×2 crafting (not 3×3), command-based AI (not goal-based), 3 agents minimum (not full swarm logic).\r\n\r\n**Rationale:** Tight deadline (12/12) and 11 MVP features. Over-engineering risks incomplete submission.\r\n\r\n### 4. **KADI as Primary AI Interface**\r\nAll AI agent control must route through KADIWebSocketSubsystem with MCP tool registration, not direct API calls.\r\n\r\n**Rationale:** Establishes standard protocol for AI-game integration. User has existing DigitalOcean deployment (Agent_TypeScript) and KADI broker infrastructure.\r\n\r\n### 5. **WidgetSubsystem Pragmatism**\r\nUse existing WidgetSubsystem despite \"very rough\" status. Refine only what's blocking MVP, defer comprehensive redesign to post-A7.\r\n\r\n**Rationale:** User acknowledged system needs work but wants to use it for A7. Time constraint prevents full UI framework rewrite.\r\n\r\n## Monitoring & Visibility\r\n\r\n### Demo Scenario Dashboard\r\nDuring MVP demonstration, the following should be clearly visible:\r\n\r\n- **HUD**: Hotbar with 9 slots, selected slot highlighted, item counts displayed\r\n- **Inventory Screen**: 27+9 grid with mouse cursor item, crafting 2×2 grid visible\r\n- **Agent UI**: Name tags above agents, optional velocity vectors (debug mode)\r\n- **F3 Overlay**: Position, FPS, chunk coords, biome, light level (Minecraft info)\r\n- **Claude Desktop**: MCP tool list showing SimpleMiner tools, command execution visible\r\n\r\n### Real-Time Updates\r\n- **WebSocket**: KADI connection state (DISCONNECTED → AUTHENTICATED → READY)\r\n- **Agent Status**: Command queue progress, inventory state, vision updates (0.5s refresh)\r\n- **Game State**: Block placement/breaking, item pickup, crafting success\r\n\r\n### Key Metrics Displayed\r\n- **Performance**: FPS counter (target: 60 FPS sustained)\r\n- **Agent Count**: Active agents (3 for MVP, up to 10 supported)\r\n- **Inventory**: Slot occupancy, item quantities\r\n- **Tool Durability**: Remaining uses before tool breaks\r\n\r\n## Future Vision\r\n\r\n### Potential Enhancements (Post-A7)\r\n\r\n#### Phase 1: Enhanced Gameplay (Assignment 8?)\r\n- **Mob System**: Hostile mobs (zombies, skeletons) with AI behavior\r\n- **Combat System**: Player damage, health bars, armor\r\n- **3×3 Crafting**: Workbench with full Minecraft recipe support\r\n- **Advanced Items**: Redstone, potions, enchantments\r\n\r\n#### Phase 2: Advanced AI (Research Focus)\r\n- **Goal-Based AI**: Agents use planning algorithms instead of command queues\r\n- **Multi-Agent Coordination**: Agents communicate and collaborate on complex tasks\r\n- **Learning System**: Agents learn from player demonstrations\r\n- **Vision Improvements**: Full scene understanding, pathfinding optimization\r\n\r\n#### Phase 3: Multiplayer & Social\r\n- **Networked Multiplayer**: Multiple human players + AI agents\r\n- **Spectator Mode**: Watch AI agents play autonomously\r\n- **Replay System**: Record and replay agent behaviors\r\n- **Competition Framework**: AI vs AI or AI vs human challenges\r\n\r\n#### Phase 4: Production Polish\r\n- **WidgetSubsystem Overhaul**: Modal dialogs, layout system, event routing\r\n- **Particle Effects**: Block breaking particles, item pickup animations\r\n- **Advanced Audio**: 3D positioned sounds, music system, ambient audio\r\n- **Visual Effects**: Day/night sky, weather, animated water\r\n\r\n### Research Applications\r\nSimpleMiner's AI agent framework positions it as a platform for:\r\n- **Autonomous Gameplay Research**: Testing AI decision-making in complex environments\r\n- **Human-AI Collaboration**: Studying how humans and AI agents work together in games\r\n- **Natural Language Control**: Expanding from commands to conversational game control\r\n- **Embodied AI**: Grounding AI agents in physical (voxel) worlds\r\n\r\n---\r\n\r\n**Document Version:** 1.0\r\n**Created:** 2025-11-24\r\n**Assignment:** A7 - Registry, Inventory, UI, AI Agents\r\n**Due Date:** December 12, 2025\r\n",
  "fileStats": {
    "size": 10040,
    "lines": 201,
    "lastModified": "2025-11-24T12:26:23.184Z"
  },
  "comments": []
}