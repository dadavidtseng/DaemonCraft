{
  "id": "snapshot_1763982941471_2026iw94h",
  "approvalId": "approval_1763982914079_4l7h46mn8",
  "approvalTitle": "Review A7 Requirements v3: Prerequisites Added (Rendering Bug, CLAUDE.md, Steering) + Sound Effects (FR-7)",
  "version": 4,
  "timestamp": "2025-11-24T11:15:41.471Z",
  "trigger": "approved",
  "status": "pending",
  "content": "# Assignment 7: Registry System, Inventory, UI, and AI Agent Integration\r\n\r\n**Due Date:** December 12, 2025\r\n**Estimated Duration:** 3-4 weeks\r\n**Complexity:** High (Multi-system integration)\r\n**Implementation Standard:** ⭐ **Follow Minecraft Implementation Patterns** ⭐\r\n\r\n---\r\n\r\n## Executive Summary\r\n\r\nAssignment 7 implements a comprehensive gameplay and AI integration system for SimpleMiner, **following Minecraft's implementation patterns** for all systems:\r\n\r\n1. **Minecraft-style Registry System** - Data-driven architecture for blocks, items, and entities (JSON-based)\r\n2. **Inventory System** - Player item storage with hotbar and full inventory management (Minecraft-style)\r\n3. **Mining & Placement Mechanics** - Progressive block breaking and item-based placement (Minecraft mechanics)\r\n4. **Minecraft-authentic UI** - HUD with hotbar, full inventory screen, and crafting interface (pixel-perfect Minecraft style)\r\n5. **AI Agent Framework** - KADI WebSocket-integrated agents that can autonomously play the game\r\n6. **Menu System** - Save/Load/Create game menu (enhanced AttractMode)\r\n7. **Sound Effects** - Minecraft-style audio for mining, placing, and crafting (AudioSystem integration)\r\n\r\nThis assignment transforms SimpleMiner from a terrain exploration sandbox into a playable Minecraft-like voxel game with intelligent AI agents that can mine, build, and interact with the world through Claude Desktop/Code commands.\r\n\r\n---\r\n\r\n## Project Context\r\n\r\n### Current State (Post-A6)\r\n\r\n**Existing Systems:**\r\n- ✅ Newtonian physics with gravity, friction, collision detection (Entity.cpp)\r\n- ✅ 5 camera modes (FIRST_PERSON, OVER_SHOULDER, SPECTATOR, etc.)\r\n- ✅ 3 physics modes (WALKING, FLYING, NOCLIP)\r\n- ✅ BlockDefinition system with XML loading (will migrate to JSON)\r\n- ✅ Chunk-based world with async generation/loading\r\n- ✅ WidgetSubsystem for DirectX 11 UI rendering (Engine) - **needs refinement**\r\n- ✅ KADIWebSocketSubsystem for network communication (Engine/Network)\r\n- ✅ JSON library (`C:\\p4\\Personal\\SD\\Engine\\Code\\ThirdParty\\json\\json.hpp`)\r\n- ✅ V8 JavaScript integration (currently unused)\r\n\r\n**Available Infrastructure:**\r\n- Engine WidgetSubsystem: DX11-based UI rendering (needs redesign/refinement for production use)\r\n- Engine KADIWebSocketSubsystem: WebSocket communication with kadi-broker\r\n- BlockDefinition: JSON-driven block properties (migrating from XML)\r\n- Entity system: Physics-enabled base class for dynamic objects\r\n- Player: Entity with camera and input handling\r\n- Existing KADI prototype: ProtogameJS3D (reference implementation)\r\n- Deployed Agent_TypeScript on DigitalOcean droplet\r\n\r\n### Target State (Post-A7)\r\n\r\n**New Systems:**\r\n- ✅ Registry<T> template for type-safe ID management\r\n- ✅ ItemRegistry, enhanced BlockRegistry, RecipeRegistry (JSON-based)\r\n- ✅ ItemStack data structure with quantity and type\r\n- ✅ Player inventory (36 slots: 27 main + 9 hotbar)\r\n- ✅ Mining mechanics (progressive break, block → item drop, Minecraft-style)\r\n- ✅ Placement mechanics (consume inventory, place block, Minecraft-style)\r\n- ✅ Minecraft-authentic HUD (hotbar, crosshair, item counts)\r\n- ✅ Minecraft-authentic inventory screen with mouse interaction\r\n- ✅ 2×2 crafting system with 10 Minecraft-style recipes\r\n- ✅ Tool durability system (if feasible)\r\n- ✅ AIAgent entity class with command queue (3 agents for MVP, 10 for later)\r\n- ✅ KADI WebSocket integration (using KADIWebSocketSubsystem)\r\n- ✅ Menu system for save/load/create game (enhanced AttractMode)\r\n- ✅ Item stacking in world (Minecraft behavior)\r\n\r\n---\r\n\r\n## Goals and Objectives\r\n\r\n### Primary Goals\r\n\r\n1. **Registry Architecture** - Establish Minecraft-inspired JSON-driven foundation\r\n2. **Core Gameplay Loop** - Enable mine → collect → craft → build cycle (Minecraft mechanics)\r\n3. **UI Polish** - Create pixel-perfect Minecraft-style interface (may require WidgetSubsystem refinement)\r\n4. **AI Integration** - Allow Claude Desktop to control 3-10 agents via KADI WebSocket\r\n5. **Menu System** - Implement save/load/create game functionality\r\n\r\n### Secondary Goals\r\n\r\n1. **Debug UI Enhancement** - Transform F3 debug overlay to Minecraft style\r\n2. **Performance** - Maintain 60 FPS with inventory UI and 3-10 AI agents\r\n3. **Extensibility** - Design for future expansion (more items, recipes, agent behaviors)\r\n4. **Code Quality** - Clean separation between data (Registry) and logic (Game systems)\r\n5. **Tool Durability** - Implement if not too complex\r\n\r\n### Non-Goals (Explicitly Out of Scope)\r\n\r\n- ❌ Mob AI system (deferred to A8)\r\n- ❌ Combat/damage system\r\n- ❌ Advanced crafting (3×3 grid, workbench) - only 2×2 for now\r\n- ❌ Health/hunger bars (may add later)\r\n- ❌ Armor system\r\n- ❌ Particle effects\r\n- ❌ Multiplayer networking\r\n- ❌ Goal-based AI (command execution only for A7)\r\n\r\n---\r\n\r\n## Functional Requirements\r\n\r\n### FR-1: Registry System (JSON-Based)\r\n\r\n#### FR-1.1: Generic Registry Template\r\n**Description**: Implement type-safe registry pattern for managing game objects with persistent IDs.\r\n\r\n**Requirements**:\r\n- Template class `Registry<T>` supporting any type\r\n- Numeric ID assignment (uint16_t for 65,535 entries)\r\n- String name → ID lookup (case-insensitive)\r\n- ID → Object pointer lookup\r\n- Registration order preservation\r\n- Thread-safe read access (write happens during startup only)\r\n- **JSON loading** (not XML) using Engine's json.hpp\r\n\r\n**Acceptance Criteria**:\r\n```cpp\r\nRegistry<BlockDefinition> blockRegistry;\r\nblockRegistry.Register(\"stone\", stoneDefPtr);\r\nuint16_t stoneID = blockRegistry.GetID(\"stone\");  // Returns stable ID\r\nBlockDefinition* def = blockRegistry.Get(stoneID); // O(1) lookup\r\n```\r\n\r\n#### FR-1.2: Block Registry (JSON Migration)\r\n**Description**: Migrate existing BlockDefinition system to Registry pattern with JSON.\r\n\r\n**Requirements**:\r\n- Replace static `s_definitions` vector with `BlockRegistry` singleton\r\n- **Migrate from XML to JSON** format (BlockDefinitions.json)\r\n- Use `C:\\p4\\Personal\\SD\\Engine\\Code\\ThirdParty\\json\\json.hpp` for parsing\r\n- Preserve AIR as ID 0\r\n- Maintain loading order for compatibility with existing chunks\r\n- Support by-name and by-ID lookup\r\n- Follow Minecraft's block definition structure\r\n\r\n**JSON Format Example**:\r\n```json\r\n{\r\n  \"blocks\": [\r\n    {\r\n      \"name\": \"stone\",\r\n      \"visible\": true,\r\n      \"solid\": true,\r\n      \"opaque\": true,\r\n      \"topSprite\": [1, 0],\r\n      \"bottomSprite\": [1, 0],\r\n      \"sideSprite\": [1, 0],\r\n      \"indoorLighting\": 0.0\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Acceptance Criteria**:\r\n- All existing block types load from BlockDefinitions.json\r\n- `Block::GetDefinition()` still works via registry lookup\r\n- JSON definitions load in same order as before\r\n- No breaking changes to existing Chunk code\r\n\r\n#### FR-1.3: Item Registry (JSON-Based, Minecraft-Style)\r\n**Description**: Create item system with JSON registry following Minecraft patterns.\r\n\r\n**Requirements**:\r\n- `ItemDefinition` class with Minecraft-style properties:\r\n  - String name, description\r\n  - Texture/sprite coordinates\r\n  - ItemType enum (RESOURCE, TOOL, BLOCK, CONSUMABLE)\r\n  - BlockType reference (for placeable items)\r\n  - Tool properties (mining speed, durability)\r\n  - Max stack size (Minecraft standard: 64 for blocks, 1 for tools, 16 for some items)\r\n- **JSON loading** from `ItemDefinitions.json`\r\n- Item ID range separate from block IDs\r\n- Support for block items (e.g., \"Stone Block\" item places STONE block)\r\n- Follow Minecraft's item definition structure\r\n\r\n**JSON Format Example**:\r\n```json\r\n{\r\n  \"items\": [\r\n    {\r\n      \"name\": \"stone_block\",\r\n      \"displayName\": \"Stone\",\r\n      \"type\": \"block\",\r\n      \"blockType\": \"stone\",\r\n      \"maxStackSize\": 64,\r\n      \"spriteCoords\": [1, 0]\r\n    },\r\n    {\r\n      \"name\": \"wooden_pickaxe\",\r\n      \"displayName\": \"Wooden Pickaxe\",\r\n      \"type\": \"tool\",\r\n      \"miningSpeed\": 2.0,\r\n      \"durability\": 60,\r\n      \"maxStackSize\": 1,\r\n      \"spriteCoords\": [0, 3]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Acceptance Criteria**:\r\n- Items load from JSON\r\n- Block items correctly reference block types\r\n- Tool items have durability and mining speed\r\n- Stack sizes follow Minecraft conventions\r\n\r\n#### FR-1.4: Recipe Registry (JSON-Based, Minecraft Recipes)\r\n**Description**: Define 10 Minecraft-style crafting recipes for 2×2 crafting grid.\r\n\r\n**Requirements**:\r\n- `Recipe` class with input/output patterns\r\n- 2×2 grid support (4 input slots)\r\n- Shaped recipes (pattern matters)\r\n- Shapeless recipes (pattern doesn't matter)\r\n- Recipe validation (check if inventory matches)\r\n- **JSON-based recipe definitions** following Minecraft format\r\n- **10 total recipes** (not just 3 starters)\r\n\r\n**JSON Format Example**:\r\n```json\r\n{\r\n  \"recipes\": [\r\n    {\r\n      \"type\": \"shaped\",\r\n      \"pattern\": [\r\n        [\"log\", \"log\"],\r\n        [\"log\", \"log\"]\r\n      ],\r\n      \"result\": {\r\n        \"item\": \"crafting_table\",\r\n        \"count\": 1\r\n      }\r\n    },\r\n    {\r\n      \"type\": \"shapeless\",\r\n      \"ingredients\": [\"log\"],\r\n      \"result\": {\r\n        \"item\": \"planks\",\r\n        \"count\": 4\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**10 Required Recipes** (Minecraft-based):\r\n1. LOG → 4 PLANKS (shapeless)\r\n2. 4 PLANKS (2×2) → CRAFTING_TABLE (shaped)\r\n3. 2 PLANKS (vertical) → 4 STICKS (shaped)\r\n4. 3 PLANKS + 2 STICKS → WOODEN_PICKAXE (shaped)\r\n5. 3 PLANKS + 2 STICKS → WOODEN_AXE (shaped)\r\n6. 1 PLANK + 2 STICKS → WOODEN_SHOVEL (shaped)\r\n7. 4 COBBLESTONE (2×2) → FURNACE (shaped)\r\n8. 2 COBBLESTONE (vertical) → STONE_STAIRS (shaped)\r\n9. 3 COBBLESTONE (horizontal) → STONE_SLAB (shaped)\r\n10. 1 COAL + 1 STICK → TORCH (shapeless)\r\n\r\n---\r\n\r\n### FR-2: Inventory System (Minecraft-Style)\r\n\r\n#### FR-2.1: ItemStack Data Structure\r\n**Description**: Represent item quantity and type in a single slot (Minecraft pattern).\r\n\r\n**Requirements**:\r\n- `ItemStack` struct:\r\n  - `uint16_t itemID` (ItemRegistry ID)\r\n  - `uint8_t quantity` (1-255, Minecraft uses 1-64 typically)\r\n  - `uint16_t durability` (for tools, optional)\r\n- Empty stack representation (itemID = 0)\r\n- Stack merging logic (same item, below max stack size)\r\n- Stack splitting (take N from stack)\r\n- Follow Minecraft stacking rules\r\n\r\n**Acceptance Criteria**:\r\n```cpp\r\nItemStack stack(STONE_BLOCK_ITEM, 32);\r\nbool canMerge = stack.CanMergeWith(otherStack);\r\nItemStack split = stack.TakeQuantity(16); // Now has 16, split has 16\r\n```\r\n\r\n#### FR-2.2: Player Inventory (Minecraft Layout)\r\n**Description**: Player storage for collected items following Minecraft structure.\r\n\r\n**Requirements**:\r\n- 36 total slots (Minecraft standard):\r\n  - Slots 0-26: Main inventory (27 slots, 3 rows × 9 columns)\r\n  - Slots 27-35: Hotbar (9 slots, bottom row)\r\n- Current selected hotbar slot (0-8)\r\n- Add item (find empty/matching slot, Minecraft behavior)\r\n- Remove item by slot\r\n- Transfer items between slots\r\n- **Serialize/deserialize for save system** (JSON format)\r\n\r\n**Acceptance Criteria**:\r\n- Picking up items fills inventory automatically (Minecraft behavior)\r\n- Hotbar slots 1-9 map to keyboard keys 1-9\r\n- Full inventory prevents further pickups\r\n- Inventory persists across save/load\r\n\r\n#### FR-2.3: Item Pickup System (Minecraft Mechanics)\r\n**Description**: World items can be collected into inventory (Minecraft behavior).\r\n\r\n**Requirements**:\r\n- `ItemEntity` class (extends Entity):\r\n  - Position, velocity (affected by gravity, Minecraft physics)\r\n  - ItemStack contents\r\n  - Pickup cooldown (0.5 seconds after drop, Minecraft standard)\r\n  - Magnetic attraction to nearby player (3 block radius, Minecraft mechanic)\r\n  - **Item stacking in world** (multiple same items merge into one entity with higher quantity)\r\n- Collision detection with player\r\n- Inventory space check before pickup\r\n- Visual feedback (item entity disappears)\r\n- Item entity despawn timer (5 minutes, Minecraft standard)\r\n\r\n**Acceptance Criteria**:\r\n- Breaking a block spawns ItemEntity at block center\r\n- Player walks near ItemEntity, it flies toward player (Minecraft magnetic pull)\r\n- On collision, item added to inventory, entity destroyed\r\n- If inventory full, item remains in world\r\n- Multiple dropped items of same type stack together (Minecraft behavior)\r\n\r\n---\r\n\r\n### FR-3: Mining & Placement Mechanics (Minecraft-Style)\r\n\r\n#### FR-3.1: Progressive Block Breaking (Minecraft Mechanics)\r\n**Description**: Blocks take time to break with visual progress (Minecraft system).\r\n\r\n**Requirements**:\r\n- Raycast from player camera to detect targeted block (6 block range, Minecraft standard)\r\n- Hold left mouse button to mine\r\n- Mining progress (0.0 to 1.0) based on Minecraft formula:\r\n  - Block hardness (BlockDefinition property)\r\n  - Tool effectiveness (ToolDefinition property)\r\n  - Time held\r\n- Visual crack overlay (10 stages, 0-9, Minecraft style)\r\n- Cancel mining if:\r\n  - Player releases mouse\r\n  - Player looks away from block\r\n  - Player moves too far (7 block range)\r\n- On completion:\r\n  - Block removed from world (set to AIR)\r\n  - ItemEntity spawned with block drop\r\n  - Tool durability decreases (if tool used)\r\n\r\n**Break Time Formula** (Minecraft-based):\r\n```cpp\r\nfloat breakTime = blockHardness / (toolEffectiveness * globalMultiplier);\r\n// Example: Stone (hardness 1.5) with wooden pickaxe (effectiveness 2.0)\r\n// breakTime = 1.5 / 2.0 = 0.75 seconds\r\n```\r\n\r\n**Acceptance Criteria**:\r\n- Holding left mouse on stone block shows progressive cracks (Minecraft style)\r\n- After ~0.75s (with pickaxe), block breaks and drops item\r\n- Without tool, takes 3x longer (Minecraft penalty)\r\n- Breaking GRASS drops DIRT_BLOCK item (Minecraft behavior)\r\n- Tool durability decreases on each block broken\r\n\r\n#### FR-3.2: Block Placement (Minecraft Mechanics)\r\n**Description**: Place blocks from hotbar into world (Minecraft placement rules).\r\n\r\n**Requirements**:\r\n- Raycast to find placement position (adjacent to targeted block face, Minecraft rule)\r\n- Right mouse button to place\r\n- Consume 1 item from selected hotbar slot\r\n- Check placement validity (Minecraft rules):\r\n  - Target position not occupied by solid block\r\n  - Player not intersecting placed block position\r\n  - Within reach (6 block range, Minecraft standard)\r\n- Update chunk mesh after placement\r\n- Visual preview (ghost block) before placement (optional, nice-to-have)\r\n\r\n**Acceptance Criteria**:\r\n- With STONE_BLOCK in hotbar, right-click places stone block (Minecraft behavior)\r\n- Item quantity decreases by 1\r\n- Cannot place block inside player (Minecraft rule)\r\n- Can place blocks on ground, walls, ceilings (Minecraft placement)\r\n\r\n#### FR-3.3: Tool Effectiveness System (Minecraft-Based)\r\n**Description**: Different tools break blocks at different speeds (Minecraft system).\r\n\r\n**Requirements**:\r\n- `ToolDefinition` properties (Minecraft-style):\r\n  - Tool tier (WOOD, STONE, IRON, DIAMOND)\r\n  - Effectiveness multiplier per block type\r\n  - **Durability** (uses before breaking, Minecraft standard: Wood=60, Stone=132, Iron=251, Diamond=1562)\r\n- Preferred tool for each block (Minecraft rules):\r\n  - STONE → Pickaxe (faster)\r\n  - DIRT/GRASS → Shovel (faster)\r\n  - WOOD → Axe (faster)\r\n- Wrong tool or no tool: 0.5x speed (Minecraft penalty)\r\n- **Tool durability decreases on block break**\r\n- Tool breaks when durability reaches 0 (disappears from inventory, Minecraft behavior)\r\n\r\n**Example** (Minecraft-based):\r\n```cpp\r\n// Breaking stone with wooden pickaxe: 0.75s\r\n// Breaking stone with stone pickaxe: 0.5s\r\n// Breaking stone with hand (no tool): 2.25s\r\n// Wooden pickaxe breaks after 60 uses\r\n```\r\n\r\n---\r\n\r\n### FR-4: User Interface (Minecraft-Authentic Style)\r\n\r\n**⚠️ Note**: Current WidgetSubsystem may need redesign/refinement as it's \"still very rough\" per user feedback.\r\n\r\n#### FR-4.1: HUD (Minecraft-Style)\r\n**Description**: Always-visible UI elements during gameplay (pixel-perfect Minecraft style).\r\n\r\n**Requirements**:\r\n- **Hotbar Widget** (bottom-center, Minecraft style):\r\n  - 9 slots displayed horizontally\r\n  - Selected slot highlighted (white border, Minecraft style)\r\n  - Item icons rendered in each slot (16×16 pixel items, Minecraft size)\r\n  - Item quantity displayed (bottom-right corner, if > 1, Minecraft position)\r\n  - Semi-transparent gray background (Minecraft GUI texture)\r\n- **Crosshair Widget** (center, Minecraft style):\r\n  - Simple white cross (Minecraft crosshair design)\r\n  - Always visible, no alpha fade\r\n- **Debug Text** (F3 toggle, Minecraft F3 style):\r\n  - Minecraft F3 debug overlay (left side)\r\n  - Position, chunk coords, FPS, biome, light level (Minecraft info)\r\n  - Black semi-transparent background with white/yellow text (Minecraft style)\r\n  - Rendered using existing debug text system\r\n\r\n**UI Assets**:\r\n- **Find online** or **draw programmatically** using Engine renderer\r\n- Must match Minecraft visual style (pixel-perfect if possible)\r\n- Reference Minecraft UI screenshots for accuracy\r\n\r\n**WidgetSubsystem Integration**:\r\n- May need to **refine/redesign WidgetSubsystem** for production quality\r\n- Create custom `HotbarWidget` class (extends `IWidget`)\r\n- Use `WidgetSubsystem::AddWidget()` with zOrder=100 (above world)\r\n- Render with orthographic projection (screen-space coordinates)\r\n\r\n**Acceptance Criteria**:\r\n- Hotbar looks like Minecraft (visual fidelity)\r\n- Selecting different slots (1-9 keys) updates highlight (Minecraft behavior)\r\n- Item icons and quantities render correctly (Minecraft style)\r\n- F3 toggles debug overlay (Minecraft F3 functionality)\r\n\r\n#### FR-4.2: Inventory Screen (Minecraft-Authentic)\r\n**Description**: Full inventory UI opened with 'E' key (pixel-perfect Minecraft layout).\r\n\r\n**Requirements**:\r\n- **Main Inventory Grid** (center, Minecraft layout):\r\n  - 27 slots (3 rows × 9 columns, Minecraft standard)\r\n  - Slot size: 16×16 pixels for items + padding (Minecraft size)\r\n  - Gray GUI background (Minecraft GUI texture)\r\n- **Hotbar Section** (bottom, Minecraft layout):\r\n  - 9 slots mirroring HUD hotbar\r\n  - Visual connection showing it's the same inventory (Minecraft style)\r\n- **Crafting Grid** (left side, Minecraft layout):\r\n  - 2×2 input grid (4 slots, Minecraft 2×2 crafting)\r\n  - 1 output slot (right of grid with arrow, Minecraft style)\r\n  - Arrow icon between input and output (Minecraft arrow graphic)\r\n- **Mouse Interaction** (Minecraft controls):\r\n  - Left-click slot: Pick up entire stack or place held stack (Minecraft behavior)\r\n  - Right-click slot: Pick up/place single item (Minecraft behavior)\r\n  - Shift-left-click: Quick transfer to/from hotbar (Minecraft convenience)\r\n- **Cursor Item** (held item, Minecraft style):\r\n  - Render item icon following mouse cursor\r\n  - Stack quantity displayed\r\n- **Pause Gameplay** (Minecraft behavior):\r\n  - World updates freeze\r\n  - Player cannot move\r\n  - Mouse cursor visible\r\n\r\n**UI Assets**:\r\n- **Find Minecraft GUI textures online** (creative commons/fan resources) or **recreate programmatically**\r\n- Must achieve Minecraft visual authenticity\r\n\r\n**WidgetSubsystem Integration**:\r\n- May require **WidgetSubsystem improvements** for modal dialogs and mouse capture\r\n- Create `InventoryWidget` class (extends `IWidget`)\r\n- Register with owner ID = player entity ID\r\n- Modal widget (blocks input to world)\r\n\r\n**Acceptance Criteria**:\r\n- Inventory screen looks like Minecraft (visual authenticity)\r\n- 'E' key toggles inventory screen (Minecraft control)\r\n- Can drag-and-drop items between slots (Minecraft behavior)\r\n- Shift-click moves items quickly (Minecraft convenience)\r\n- Crafting grid functional (see FR-4.3)\r\n- Inventory screen pauses gameplay (Minecraft behavior)\r\n\r\n#### FR-4.3: Crafting Interface (Minecraft 2×2 Crafting)\r\n**Description**: 2×2 crafting grid with recipe matching (Minecraft mechanics).\r\n\r\n**Requirements**:\r\n- 2×2 input grid (part of inventory screen, Minecraft layout)\r\n- Output slot shows craftable item (if valid recipe, Minecraft behavior)\r\n- Recipe matching (Minecraft algorithm):\r\n  - Check all registered recipes\r\n  - Match shaped recipes (pattern exact, Minecraft shaped crafting)\r\n  - Match shapeless recipes (any arrangement, Minecraft shapeless crafting)\r\n- Clicking output slot (Minecraft behavior):\r\n  - Consume input items (1 of each)\r\n  - Add output item to cursor\r\n  - If shift-clicked, add directly to inventory (Minecraft convenience)\r\n- Recipe preview (optional nice-to-have):\r\n  - Hover over output shows recipe in tooltip (Minecraft recipe book style)\r\n\r\n**10 Minecraft-Style Recipes** (see FR-1.4 for full list):\r\n1. LOG → 4 PLANKS\r\n2. 4 PLANKS → CRAFTING_TABLE\r\n3. 2 PLANKS → 4 STICKS\r\n... (7 more recipes)\r\n\r\n**Acceptance Criteria**:\r\n- Crafting works like Minecraft (behavior match)\r\n- Placing log in any slot shows 4 planks as output\r\n- Placing 4 planks in 2×2 shows crafting table\r\n- Clicking output consumes inputs, gives output (Minecraft behavior)\r\n- Invalid arrangements show no output\r\n\r\n---\r\n\r\n### FR-5: AI Agent Framework (KADI WebSocket Integration)\r\n\r\n#### FR-5.1: AIAgent Entity Class\r\n**Description**: Entity subclass for AI-controlled agents.\r\n\r\n**Requirements**:\r\n- Extend `Entity` base class\r\n- Properties:\r\n  - `std::string m_agentName` (unique identifier)\r\n  - `uint64_t m_agentID` (for KADI tracking)\r\n  - `std::queue<AgentCommand> m_commandQueue`\r\n  - `Inventory m_inventory` (36 slots, same as player)\r\n  - `float m_visionRange` (blocks agent can \"see\")\r\n- Command queue processing:\r\n  - Pop one command per frame\r\n  - Execute command logic\r\n  - Send completion status to KADI\r\n- Rendering:\r\n  - Distinct color/appearance from player\r\n  - Name tag above agent (using debug text)\r\n  - Optional: Velocity vectors (debug mode)\r\n- **Support 3 agents for MVP, 10 for later** (user has DigitalOcean deployment)\r\n\r\n**Acceptance Criteria**:\r\n```cpp\r\nAIAgent* agent = world->SpawnAgent(\"MinerBot\", Vec3(100, 100, 70));\r\nagent->QueueCommand(AgentCommand::MOVE, {direction: Vec3(1,0,0), duration: 2.0f});\r\nagent->QueueCommand(AgentCommand::MINE, {x: 101, y: 100, z: 70});\r\n// Agent executes commands sequentially\r\n```\r\n\r\n#### FR-5.2: Agent Command System\r\n**Description**: Define agent action primitives (command execution, not goal-based).\r\n\r\n**Requirements**:\r\n- `AgentCommand` enum (command execution only for A7):\r\n  - `MOVE` - Move in direction for duration\r\n  - `MINE` - Break block at coordinates\r\n  - `PLACE` - Place block from inventory\r\n  - `CRAFT` - Execute crafting recipe\r\n  - `WAIT` - Idle for duration\r\n- Command parameters (variant/union struct):\r\n  - Vec3 direction, float duration (MOVE)\r\n  - IntVec3 blockCoords (MINE, PLACE)\r\n  - uint16_t recipeID (CRAFT)\r\n  - float duration (WAIT)\r\n- Command execution state machine:\r\n  - QUEUED → IN_PROGRESS → COMPLETED/FAILED\r\n- Failure conditions:\r\n  - Out of reach\r\n  - Invalid target\r\n  - Inventory full (MINE)\r\n  - Missing items (PLACE, CRAFT)\r\n- **Not goal-based AI** (defer to future assignment)\r\n\r\n**Acceptance Criteria**:\r\n- Agent can execute all 5 command types\r\n- Commands report completion status\r\n- Failed commands don't crash, return error code\r\n\r\n#### FR-5.3: Agent Vision System\r\n**Description**: Agents can query nearby blocks and entities.\r\n\r\n**Requirements**:\r\n- `AgentVision::GetNearbyBlocks(radius)`:\r\n  - Returns vector of block types in sphere around agent\r\n  - Includes block coordinates\r\n  - Sorted by distance (nearest first)\r\n- `AgentVision::GetNearbyEntities(radius)`:\r\n  - Returns other agents, player, item entities\r\n  - Includes entity position, type\r\n- Vision caching (update every 0.5 seconds, not every frame)\r\n- Expose vision data to KADI broker\r\n\r\n**Acceptance Criteria**:\r\n```cpp\r\nstd::vector<BlockInfo> blocks = agent->GetNearbyBlocks(10.0f);\r\n// Returns all blocks within 10-block sphere\r\n// BlockInfo: {IntVec3 coords, uint8_t blockType, float distance}\r\n```\r\n\r\n#### FR-5.4: KADI WebSocket Integration (KADIWebSocketSubsystem)\r\n**Description**: Expose SimpleMiner game state to KADI broker via WebSocket.\r\n\r\n**Requirements**:\r\n- **Use existing `KADIWebSocketSubsystem.hpp`** from Engine/Network module\r\n- **Reference `ProtogameJS3D` implementation** for integration patterns\r\n- MCP tool registration (SimpleMiner exposes these tools to KADI):\r\n  - `simpleminer_spawn_agent(name, x, y, z)` → agentID\r\n  - `simpleminer_move_agent(agentID, dirX, dirY, dirZ, duration)`\r\n  - `simpleminer_mine_block(agentID, x, y, z)`\r\n  - `simpleminer_place_block(agentID, blockType, x, y, z)`\r\n  - `simpleminer_get_agent_vision(agentID)` → {blocks, entities}\r\n  - `simpleminer_get_agent_inventory(agentID)` → {itemStacks}\r\n  - `simpleminer_craft_item(agentID, recipeID)`\r\n- JSON serialization for all data types\r\n- Non-blocking communication (don't freeze game)\r\n- WebSocket server running on localhost (KADI broker connects)\r\n\r\n**Protocol Example**:\r\n```json\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"tools/call\",\r\n  \"params\": {\r\n    \"name\": \"simpleminer_spawn_agent\",\r\n    \"arguments\": {\r\n      \"name\": \"MinerBot\",\r\n      \"x\": 100,\r\n      \"y\": 100,\r\n      \"z\": 70\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Reference Files**:\r\n- `C:\\p4\\Personal\\SD\\Engine\\Code\\Engine\\Network\\KADIWebSocketSubsystem.hpp`\r\n- `C:\\p4\\Personal\\SD\\ProtogameJS3D` (implementation example)\r\n\r\n**Acceptance Criteria**:\r\n- SimpleMiner registers 7 MCP tools with kadi-broker\r\n- Claude Desktop can discover tools via `/mcp` command\r\n- Calling tools from Claude executes in-game actions\r\n- Tool results return to Claude (success/failure, data)\r\n\r\n#### FR-5.5: TypeScript Agent Framework\r\n**Description**: Create example agent behaviors in Agent_TypeScript project (deployed on DigitalOcean).\r\n\r\n**Requirements**:\r\n- `MinerAgent.ts`:\r\n  - Spawn at specified coordinates\r\n  - Scan for nearest stone blocks (vision system)\r\n  - Navigate to stone block\r\n  - Mine block\r\n  - Collect dropped item\r\n  - Return to start position\r\n- `BuilderAgent.ts`:\r\n  - Given list of block coordinates and types\r\n  - Place blocks sequentially to build structure\r\n  - Handle inventory management (swap items in hotbar)\r\n- Agent utilities:\r\n  - Pathfinding helper (simple A* or greedy)\r\n  - Inventory query helper\r\n  - Vision query helper\r\n- **Deployed on DigitalOcean** (user already has infrastructure)\r\n\r\n**Acceptance Criteria**:\r\n- From Claude Desktop: \"Spawn a miner agent and mine 10 stone blocks\"\r\n- MinerAgent.ts executes autonomously\r\n- Agent appears in SimpleMiner game\r\n- Agent mines blocks and collects items\r\n- Claude receives completion message\r\n\r\n---\r\n\r\n### FR-6: Menu System (Save/Load/Create Game)\r\n\r\n**Description**: Enhance AttractMode to support save/load/create game functionality.\r\n\r\n**Requirements**:\r\n- **Menu Screen UI** (Minecraft-style main menu):\r\n  - \"Create New Game\" button\r\n  - \"Load Game\" button (shows list of saved games)\r\n  - \"Continue\" button (resume last game)\r\n  - \"Quit\" button\r\n- **Save System**:\r\n  - Serialize player inventory to JSON\r\n  - Serialize player position, rotation\r\n  - Serialize world seed, creation date\r\n  - Save to `Saves/<worldName>/player.json`\r\n- **Load System**:\r\n  - Deserialize player data from JSON\r\n  - Load world chunks from disk\r\n  - Restore player state\r\n- **Create Game**:\r\n  - Prompt for world name\r\n  - Generate new world seed\r\n  - Initialize player at spawn point\r\n- **UI Integration**:\r\n  - Use WidgetSubsystem for menu rendering\r\n  - Minecraft-style button graphics\r\n  - Mouse and keyboard navigation\r\n\r\n**Acceptance Criteria**:\r\n- Can create new game from menu (Minecraft \"Create New World\")\r\n- Can save game and load later with inventory preserved\r\n- Can list and select saved games (Minecraft \"Select World\")\r\n- Menu looks like Minecraft main menu\r\n\r\n---\r\n\r\n### FR-7: Sound Effects (AudioSystem Integration)\r\n\r\n**Description**: Add Minecraft-style sound effects for mining, placing, and crafting.\r\n\r\n**Requirements**:\r\n- **Use existing AudioSystem** (`C:\\p4\\Personal\\SD\\Engine\\Code\\Engine\\Audio\\AudioSystem.hpp`)\r\n- **Mining Sounds**:\r\n  - Different sounds per block type (stone, dirt, wood, etc.) - Minecraft-style\r\n  - Play progressive \"dig\" sound while mining (tapping sound loop)\r\n  - Play final \"break\" sound when block breaks\r\n- **Placement Sounds**:\r\n  - Block placement sound (thud/click) - Minecraft-style\r\n  - Different sounds per block type (optional)\r\n- **Crafting Sounds**:\r\n  - Sound when crafting recipe completes - Minecraft-style\r\n  - Item pickup sound when taking crafted item\r\n- **UI Sounds**:\r\n  - Button click sound (menu navigation)\r\n  - Inventory open/close sound\r\n  - Item drag/drop sound\r\n- **Audio Assets**:\r\n  - Find Minecraft-style sound effects online (creative commons) or record/create similar\r\n  - Use AudioSystem to load `.wav` or `.mp3` files\r\n  - Store in `Run/Data/Audio/` directory\r\n\r\n**AudioSystem Integration**:\r\n```cpp\r\n// Load sound at startup\r\nSoundID miningSoundStone = g_audioSystem->CreateOrGetSound(\"Data/Audio/stone_dig.wav\");\r\n\r\n// Play when mining stone\r\ng_audioSystem->PlaySound(miningSoundStone);\r\n```\r\n\r\n**Acceptance Criteria**:\r\n- Mining stone plays stone dig sound (Minecraft-like)\r\n- Breaking block plays break sound\r\n- Placing block plays placement sound\r\n- Crafting item plays crafting sound\r\n- All sounds match Minecraft audio style and quality\r\n\r\n---\r\n\r\n## Non-Functional Requirements\r\n\r\n### NFR-1: Performance\r\n- **Target FPS**: 60 FPS sustained with inventory UI open\r\n- **UI Rendering**: < 2ms per frame for all widgets\r\n- **Agent Update**: < 0.5ms per agent per frame\r\n- **Max Concurrent Agents**: Support 3-10 agents without frame drops\r\n\r\n### NFR-2: Memory\r\n- **Registry Overhead**: < 1MB for all registries combined\r\n- **Inventory Storage**: 36 slots × 64 bytes = 2.3KB per player/agent\r\n- **UI Texture Memory**: < 10MB for all UI sprites\r\n\r\n### NFR-3: Usability (Minecraft Standard)\r\n- **Input Responsiveness**: < 16ms (one frame) from input to action\r\n- **Visual Feedback**: All interactions show immediate feedback (Minecraft polish)\r\n- **Error Messages**: Clear error messages for KADI tool failures\r\n- **F3 Debug**: Comprehensive debug info for troubleshooting\r\n\r\n### NFR-4: Extensibility\r\n- **Registry Design**: Easy to add new blocks, items, recipes via JSON\r\n- **Agent Commands**: New commands added with minimal code changes\r\n- **UI Widgets**: New widgets inherit from IWidget base (may need WidgetSubsystem refinement)\r\n- **KADI Tools**: New tools registered with simple function mapping\r\n\r\n### NFR-5: Code Quality\r\n- **SOLID Principles**: Registry pattern demonstrates Single Responsibility\r\n- **DRY**: No duplicate inventory logic between Player and AIAgent\r\n- **YAGNI**: Only implement 2×2 crafting, not 3×3 yet\r\n- **KISS**: Simple command queue for agents, not complex behavior trees\r\n- **Minecraft Fidelity**: All systems follow Minecraft implementation patterns\r\n\r\n---\r\n\r\n## Constraints and Assumptions\r\n\r\n### Technical Constraints\r\n1. **DirectX 11**: All UI must use existing WidgetSubsystem (may need refinement)\r\n2. **Windows Only**: No cross-platform support required\r\n3. **Single-threaded Gameplay**: Game logic runs on main thread (rendering on main thread, chunk gen on workers)\r\n4. **KADIWebSocketSubsystem**: Must use existing Engine network module\r\n5. **JSON Library**: Must use `C:\\p4\\Personal\\SD\\Engine\\Code\\ThirdParty\\json\\json.hpp`\r\n\r\n### Assumptions\r\n1. **KADI Broker Running**: Assumes `kadi-broker` is started separately (not embedded in SimpleMiner)\r\n2. **Claude Desktop Available**: Assumes user has Claude Desktop or Claude Code with KADI MCP server configured\r\n3. **Minecraft Assets**: Assumes UI sprite sheets can be found online or recreated programmatically (creative commons/fan resources)\r\n4. **Save System**: Inventory serialization piggybacks on existing chunk save system\r\n5. **DigitalOcean Deployment**: Agent_TypeScript already deployed and accessible\r\n\r\n### Dependencies\r\n1. **Engine WidgetSubsystem**: Must refine/redesign for production use\r\n2. **Engine KADIWebSocketSubsystem**: Must integrate for KADI communication\r\n3. **Engine JSON Library**: Must use for all JSON parsing\r\n4. **KADI Broker**: Must connect to existing `C:\\p4\\Personal\\SD\\kadi\\kadi-broker` instance\r\n5. **Agent_TypeScript**: Must work with deployed agents on DigitalOcean\r\n6. **ProtogameJS3D**: Must reference for implementation patterns\r\n\r\n---\r\n\r\n## Prerequisites (MUST Complete Before A7 Implementation)\r\n\r\n### P-1: Fix Hidden Surface Removal Bug (BLOCKING)\r\n\r\n**Issue**: Some block faces are hidden incorrectly after hidden surface removal implementation.\r\n\r\n**Requirements**:\r\n- Investigate face culling logic in Chunk mesh generation\r\n- Identify cases where visible faces are incorrectly culled\r\n- Fix the culling algorithm to only hide truly hidden faces\r\n- Test with various block configurations (overhangs, caves, corners)\r\n- Verify no visual artifacts or missing faces\r\n\r\n**Acceptance Criteria**:\r\n- All visible block faces render correctly\r\n- No missing faces in normal gameplay\r\n- Underground caves show correct wall faces\r\n- Building overhangs and structures render properly\r\n\r\n### P-2: Update All CLAUDE.md Documentation (REQUIRED)\r\n\r\n**Scope**: Update all CLAUDE.md files in both Engine and SimpleMiner codebases to reflect current state.\r\n\r\n**Requirements**:\r\n- **Engine Module**: `C:\\p4\\Personal\\SD\\Engine\\**\\CLAUDE.md`\r\n  - Update WidgetSubsystem documentation with current API and status\r\n  - Update KADIWebSocketSubsystem documentation with integration patterns\r\n  - Update AudioSystem documentation\r\n  - Add JSON library documentation\r\n  - Update any outdated system descriptions\r\n- **SimpleMiner Module**: `C:\\p4\\Personal\\SD\\SimpleMiner\\**\\CLAUDE.md`\r\n  - Update Framework module with A6 completion status\r\n  - Update Gameplay module with current Entity/Player state\r\n  - Update Definition module (prepare for JSON migration)\r\n  - Update root CLAUDE.md with Assignment 6 completion and Assignment 7 scope\r\n\r\n**Acceptance Criteria**:\r\n- All CLAUDE.md files accurately reflect current codebase state\r\n- New AI conversations can understand current architecture\r\n- Documentation includes A6 completion and A7 prerequisites\r\n\r\n### P-3: Create Steering Document (REQUIRED)\r\n\r\n**Description**: Create project steering document before design.md per spec-workflow process.\r\n\r\n**Requirements**:\r\n- Use `mcp__spec-workflow-SimpleMiner__steering-guide` tool to get template\r\n- Create `product.md` - Product vision for A7 gameplay systems\r\n- Create `tech.md` - Technical architecture and constraints for A7\r\n- Create `structure.md` - File organization and module structure for A7\r\n- Request approval via spec-workflow dashboard\r\n\r\n**Acceptance Criteria**:\r\n- Steering documents approved via dashboard\r\n- Clear product vision and technical direction established\r\n- File structure planned before implementation begins\r\n\r\n---\r\n\r\n## Success Criteria\r\n\r\n### Minimum Viable Product (MVP)\r\n**These features MUST work for assignment credit**:\r\n\r\n1. ✅ Registry system (Block, Item, Recipe) functional with JSON loading\r\n2. ✅ Player inventory with 36 slots\r\n3. ✅ Mining mechanics (progressive break, item drop, pickup) - Minecraft-style\r\n4. ✅ Placement mechanics (consume inventory, place block) - Minecraft-style\r\n5. ✅ Minecraft-authentic HUD with hotbar and item display\r\n6. ✅ Minecraft-authentic inventory screen with mouse interaction\r\n7. ✅ 2×2 crafting with 10 Minecraft-style recipes\r\n8. ✅ AIAgent spawning and basic commands (MOVE, MINE, PLACE) - 3 agents minimum\r\n9. ✅ KADI WebSocket integration (at least 3 tools: spawn, move, mine)\r\n10. ✅ Menu system for save/load/create game\r\n11. ✅ Sound effects for mining, placing, crafting (AudioSystem integration)\r\n\r\n**Demo Scenario**:\r\n```\r\n1. Start game from menu, create new world\r\n2. Player mines 4 logs (break blocks, collect items)\r\n3. Opens inventory (E key) - looks like Minecraft\r\n4. Crafts planks from logs (2×2 grid, Minecraft recipe)\r\n5. Places planks to build structure (right-click)\r\n6. From Claude Desktop: \"Spawn miner agent and mine 5 stone\"\r\n7. Agent appears in game, executes command autonomously\r\n8. Claude Desktop receives completion confirmation\r\n9. Save game from menu, quit\r\n10. Load game, inventory and agent state restored\r\n```\r\n\r\n### Stretch Goals (Nice-to-Have)\r\n**These features are bonus, not required**:\r\n\r\n- ⭐ Tool durability fully implemented (if not too hard)\r\n- ⭐ Shift-click quick transfer\r\n- ⭐ Item tooltips on hover\r\n- ⭐ Ghost block preview before placement\r\n- ⭐ Agent pathfinding (A* algorithm)\r\n- ⭐ Multiple agent coordination (10 agents working together)\r\n- ⭐ Recipe preview in crafting grid\r\n- ⭐ Item entity stacking animation (Minecraft item pickup animation)\r\n- ⭐ Pixel-perfect Minecraft UI recreation\r\n- ⭐ WidgetSubsystem full production-ready redesign\r\n\r\n---\r\n\r\n## Revision Summary\r\n\r\n### v3 (Current) - Prerequisites and Sound Effects Added\r\n\r\n**Changes from v2 based on user feedback (3 comments):**\r\n\r\n1. ✅ **Prerequisites Section Added**: Three blocking/required prerequisites before A7 implementation:\r\n   - P-1: Fix hidden surface removal bug (BLOCKING)\r\n   - P-2: Update all CLAUDE.md files in Engine and SimpleMiner (REQUIRED)\r\n   - P-3: Create steering document before design.md (REQUIRED)\r\n2. ✅ **Sound Effects Added**: Moved from Non-Goals to FR-7 with full AudioSystem integration\r\n   - Mining, placing, crafting sounds (Minecraft-style)\r\n   - Using `C:\\p4\\Personal\\SD\\Engine\\Code\\Engine\\Audio\\AudioSystem.hpp`\r\n   - Added to MVP as item 11\r\n3. ✅ **Executive Summary**: Updated to reflect 7 major systems (added sound effects)\r\n\r\n### v2 - Minecraft Fidelity and System Refinements\r\n\r\n**Changes from v1 based on user feedback (14 comments):**\r\n\r\n1. ✅ **JSON Migration**: Replaced ALL XML references with JSON (blocks, items, recipes)\r\n2. ✅ **KADI WebSocket**: Use KADIWebSocketSubsystem, reference ProtogameJS3D\r\n3. ✅ **Minecraft Fidelity**: Added \"follow Minecraft implementation\" throughout\r\n4. ✅ **Menu System**: Added FR-6 for save/load/create game (enhanced AttractMode)\r\n5. ✅ **Agent Count**: 3 for MVP, 10 for later (DigitalOcean deployment noted)\r\n6. ✅ **Recipe Count**: 10 total Minecraft-style recipes (not just 3)\r\n7. ✅ **Tool Durability**: Included in scope (if feasible)\r\n8. ✅ **Item Stacking**: Items stack in world (Minecraft behavior)\r\n9. ✅ **WidgetSubsystem**: Noted needs refinement/redesign\r\n10. ✅ **UI Authenticity**: Emphasized pixel-perfect Minecraft style\r\n11. ✅ **Command-Based AI**: Clarified command execution (not goal-based yet)\r\n\r\n---\r\n\r\n## References\r\n\r\n### Minecraft Systems (Implementation Reference)\r\n- [Minecraft Wiki: Inventory](https://minecraft.wiki/w/Inventory)\r\n- [Minecraft Wiki: Crafting](https://minecraft.wiki/w/Crafting)\r\n- [Minecraft Wiki: Mining](https://minecraft.wiki/w/Mining)\r\n- [Minecraft Wiki: Debug Screen (F3)](https://minecraft.wiki/w/Debug_screen)\r\n- [Minecraft Wiki: Items](https://minecraft.wiki/w/Item)\r\n- [Minecraft Wiki: Blocks](https://minecraft.wiki/w/Block)\r\n\r\n### SimpleMiner Codebase\r\n- **Engine**: `C:\\p4\\Personal\\SD\\Engine\\Code\\Engine\\`\r\n  - `Widget\\` - WidgetSubsystem (needs refinement)\r\n  - `Network\\KADIWebSocketSubsystem.hpp` - KADI integration\r\n  - `ThirdParty\\json\\json.hpp` - JSON library\r\n- **SimpleMiner**: `C:\\p4\\Personal\\SD\\SimpleMiner\\Code\\Game\\`\r\n- **KADI**: `C:\\p4\\Personal\\SD\\kadi\\kadi-broker\\`\r\n- **Agent**: `C:\\p4\\Personal\\SD\\Agent_TypeScript\\` (DigitalOcean deployment)\r\n- **Prototype**: `C:\\p4\\Personal\\SD\\ProtogameJS3D\\` (reference implementation)\r\n\r\n### Documentation\r\n- SimpleMiner CLAUDE.md files (Root, Framework, Gameplay, Definition modules)\r\n- Assignment 6 (Physics & Camera) - archived in `.spec-workflow/archive/specs/A6`\r\n- WidgetSubsystem.hpp - Engine UI rendering system (needs refinement)\r\n- KADIWebSocketSubsystem.hpp - Engine network module\r\n- BlockDefinition system - existing registry pattern (migrating to JSON)\r\n\r\n---\r\n\r\n## Revision History\r\n\r\n| Version | Date | Author | Changes |\r\n|---------|------|--------|---------|\r\n| 1.0 | 2025-11-24 | Claude Code | Initial requirements document |\r\n| 2.0 | 2025-11-24 | Claude Code | Revised based on user feedback (14 comments): JSON migration, KADI WebSocket, Minecraft fidelity, menu system, agent count (3-10), 10 recipes, tool durability, item stacking, WidgetSubsystem refinement note, UI authenticity, command-based AI |\r\n| 3.0 | 2025-11-24 | Claude Code | Added prerequisites section (3 items: rendering bug fix, CLAUDE.md updates, steering document), added FR-7 sound effects (AudioSystem integration), updated MVP to include 11 items, updated executive summary to 7 systems |\r\n\r\n---\r\n\r\n**Next Steps**:\r\n1. **Complete Prerequisites (P-1, P-2, P-3)** before starting A7 implementation\r\n2. After prerequisites complete and user approval, proceed to create **steering documents** (product.md, tech.md, structure.md)\r\n3. After steering approval, create **design.md** with detailed architecture, class diagrams, UML, and implementation strategy following Minecraft patterns\r\n",
  "fileStats": {
    "size": 40712,
    "lines": 1003,
    "lastModified": "2025-11-24T11:14:50.898Z"
  },
  "comments": []
}