(()=>{"use strict";var e,t={10636:(e,t,s)=>{s.d(t,{h:()=>u});var i=s(54380),n=s(50266),o=s(41594),r=s(22224),a=s(62026),l=s(73816),d=s(63710),c=function(e,t,s,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,s,r):n(t,s))||r);return o>3&&r&&Object.defineProperty(t,s,r),r},p=PanoptoTS.Viewer.Data.Event;class h extends o.Component{constructor(e){super(e),this.eventType=a.EventType.Note,this.handleDeleteNote=e=>{this.updateNoteById(e.id,(e=>e.saved=!1)),this.props.deliveryService.deleteEvent(this.props.deliveryId,this.eventType,e.eventPublicId,(()=>{this.removeNoteById(e.id)}),(()=>{alert(this.props.resources.Embed_NoteDeleteFailed),this.updateNoteById(e.id,(e=>e.saved=!0))}))},this.state={notes:[],addedNote:void 0,isLoading:!1}}componentDidMount(){this.setState({isLoading:!0}),this.props.deliveryService.search(this.props.deliveryId,this.eventType,void 0,void 0,void 0,void 0,void 0,(e=>{this.setState({notes:e.map((e=>new p(e))),isLoading:!1})}),$.noop)}handleInputSubmit(e,t){const s=this.addNote(e,t);this.props.deliveryService.createEvent(this.props.deliveryId,this.eventType,e,t,!0,void 0,this.props.isBroadcast,(e=>{this.confirmNoteAdd(s.id,e)}),(()=>{this.removeNoteById(s.id)}))}addNote(e,t){const s={id:"temp-event"+Math.round(1e8*Math.random()).toString(),type:this.eventType,text:e,time:t,user:Panopto.user.userKey,saved:!1},i=[...this.state.notes],n=r.findLastIndex(i,(e=>e.time<=s.time))+1;return i.splice(n,0,s),this.setState({notes:i,addedNote:s}),s}confirmNoteAdd(e,t){this.updateNoteById(e,(e=>{e.id=t.EventID.toString(),e.eventPublicId=t.PublicId.toString(),e.saved=!0}))}updateNoteById(e,t){const s=[...this.state.notes],i=r.findWhere(s,{id:e});i&&(t(i),this.setState({notes:s}))}removeNoteById(e){let t;const s=r.findIndex(this.state.notes,(t=>t.id===e));if(s>-1){const e=[...this.state.notes];t=e.splice(s,1)[0],this.setState({notes:e})}return t}render(){return(0,i.Y)(d.n,{...this.props,notes:this.state.notes,addedNote:this.state.addedNote,isLoading:this.state.isLoading,onInputSubmit:this.handleInputSubmit,onDelete:this.handleDeleteNote})}}c([n.Q2],h.prototype,"handleInputSubmit",null);const u=e=>(0,i.Y)(h,{...e,...(0,l.N)()})},10961:(e,t,s)=>{s.d(t,{G:()=>m});var i=s(54380),n=s(41594),o=s(11135),r=s(86427),a=s(73816),l=s(85714),d=s(51176),c=s(149),p=s(58006),h=s(29710);class u extends n.Component{constructor(){super(...arguments),this.handleInputFocus=()=>{h.Y.setEmbedViewport({fixed:!1}),$(window).on("resize.inputFocus",(()=>{this.inputContainer.scrollIntoView(!0)})),setTimeout((()=>$(window).off("resize.inputFocus")),1e3)},this.handleKeyPress=e=>{e.which===Panopto.Core.Key.Enter&&(e.preventDefault(),o.Browser.$_mobile&&this.input.blur())},this.handleQueryInputChange=e=>{this.props.onQueryChange(e.currentTarget.value)},this.handleQueryClear=()=>{this.props.onQueryChange(""),this.input.focus()}}componentDidUpdate(e){this.props.selected&&!e.selected&&this.input.focus(),this.props.selected&&this.props.isLandscape!==e.isLandscape&&o.Browser.$_mobile&&this.input.blur()}render(){const e=["input-container search"];return this.props.query&&e.push("query-active"),this.props.isLoading&&e.push("loading"),(0,i.FD)(c.N,{id:this.props.id,tabId:this.props.tabId,className:"search",selected:this.props.selected,children:[(0,i.FD)("div",{className:e.join(" "),ref:e=>this.inputContainer=e,children:[(0,i.Y)("input",{type:"text",className:"input",placeholder:this.props.resources.Embed_SearchThisVideo,value:this.props.query,ref:e=>this.input=e,onFocus:this.handleInputFocus,onBlur:()=>h.Y.setEmbedViewport({fixed:!0}),onChange:this.handleQueryInputChange,onKeyPress:this.handleKeyPress}),(0,i.Y)(l.J,{className:"loading-spinner",fillColor:this.props.brandColorSafe}),(0,i.Y)(r.$,{iconCode:"cancel",className:"query-clear-button",onActivate:this.handleQueryClear,title:this.props.resources.Clear})]}),(0,i.FD)("div",{className:"scroll-container search",children:[this.props.contents&&(0,i.Y)(d.u,{emptyListText:this.props.resources.Embed_NoResults,children:this.props.contents.map((e=>(0,i.Y)(p.K,{content:e,onClick:()=>this.props.onContentRowClick(e)},e.id)))}),(0,i.Y)("div",{className:"screen-reader-only",role:"status",children:this.props.contents&&(0===this.props.contents.length?this.props.resources.Embed_NoResults:1===this.props.contents.length?Panopto.GlobalResources.Embed_SearchResultsSingular:PanoptoTS.StringHelpers.format(Panopto.GlobalResources.Embed_SearchResultsPlural,this.props.contents.length))})]})]})}}const m=e=>(0,i.Y)(u,{...e,...(0,a.N)()})},11135:e=>{e.exports=PanoptoCore},15159:(e,t,s)=>{s.d(t,{H:()=>p});var i=s(54380),n=s(22224),o=s(73816),r=s(51176),a=s(149),l=s(34946),d=s(63115),c=PanoptoTS.Viewer.Data.Thumbnail;const p=({id:e,tabId:t,selected:s,thumbnails:p,contents:h,onContentRowClick:u})=>{const{resources:m}=(0,o.N)(),b=n.sortBy(p.concat(h),"time");return(0,i.Y)(a.N,{id:e,tabId:t,className:"contents",selected:s,children:(0,i.FD)("div",{className:"scroll-container",children:[(0,i.Y)("div",{className:"title",children:m.Embed_TableOfContents}),(0,i.Y)(r.u,{children:b.map((e=>e instanceof c?(0,i.Y)(d.H,{thumbnail:e,onClick:u},e.queryParams.eventTargetPID+"_"+e.queryParams.number):(0,i.Y)(l.y,{quiz:e,onClick:u},e.id)))})]})})}},18187:e=>{e.exports=PanoptoReactComponents},22224:e=>{e.exports=_},22287:(e,t,s)=>{s.d(t,{O:()=>c});var i=s(54380),n=s(41594),o=s(22224),r=s(73816),a=s(10961),l=PanoptoTS.Viewer.Data.Event;class d extends n.Component{constructor(e){super(e),this.lastQuery="",this.handleQueryChanged=e=>{this.setState({query:e,isLoading:!0}),this.submitQuery(e),e||this.setState({contents:void 0,isLoading:!1})},this.submitQuery=o.debounce((e=>{e!==this.lastQuery?(e&&this.props.deliveryService.search(this.props.deliveryId,void 0,e,void 0,void 0,void 0,void 0,(e=>{this.setState({contents:o.map(e,(e=>new l(e))),isLoading:!1})}),$.noop),this.lastQuery=e):this.setState({isLoading:!1})}),d.queryDebouncePeriod),this.state={query:e.initialSearchTerm||"",contents:void 0,isLoading:!1}}componentDidMount(){this.state.query&&this.submitQuery(this.state.query)}render(){return(0,i.Y)(a.G,{...this.props,...this.state,onQueryChange:this.handleQueryChanged})}}d.queryDebouncePeriod=250;const c=e=>(0,i.Y)(d,{...e,...(0,r.N)()})},29419:(e,t,s)=>{s.d(t,{c:()=>h});var i=s(54380),n=s(50266),o=s(41594),r=s(11135),a=s(86427),l=s(93664),d=s(73816),c=function(e,t,s,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,s,r):n(t,s))||r);return o>3&&r&&Object.defineProperty(t,s,r),r};class p extends o.Component{constructor(e){super(e),this.handleDeleteActionItemClick=()=>{this.props.onDelete(),this.setState({isActionMenuOpen:!1})},this.state={isActionMenuOpen:!1}}componentDidMount(){this.props.scrollIntoView&&this.element.scrollIntoView(!1)}handleActionMenuOpenToggle(e,t){this.setState({isActionMenuOpen:e},t)}render(){const e=["content-row"];!1===this.props.content.saved&&e.push("temp-event");const t=Panopto.user.currentItemPermissions[r.Permission.SessionDeleteAnyNote]||Panopto.user.userKey===this.props.content.user;return(0,i.Y)(a.$,{className:e.join(" "),role:"listitem",innerRef:e=>this.element=e,onActivate:this.props.onClick,children:(0,i.FD)("div",{className:"content-wrapper",children:[(0,i.Y)("div",{className:"content-row-label",children:this.props.content.text}),(0,i.Y)("div",{className:"content-row-time",children:this.props.timeHelpers.formatDuration(Math.floor(this.props.content.time),":",!1,0)}),(0,i.Y)("div",{className:"action-menu-wrapper",children:t&&(0,i.Y)(l.i,{title:this.props.resources.Embed_MoreActions,iconCode:"more_vert",isOpen:this.state.isActionMenuOpen,onToggleOpen:this.handleActionMenuOpenToggle,children:(0,i.FD)(a.$,{role:"menuitem",className:"item",onActivate:this.handleDeleteActionItemClick,children:[(0,i.Y)("i",{className:"material-icons","aria-hidden":"true",children:"delete"}),this.props.resources.Delete]})})})]})})}}c([n.Q2],p.prototype,"handleActionMenuOpenToggle",null);const h=e=>(0,i.Y)(p,{...e,...(0,d.N)()})},34946:(e,t,s)=>{s.d(t,{y:()=>r});var i=s(54380),n=s(86427),o=s(73816);const r=({quiz:e,onClick:t})=>{const{timeHelpers:s}=(0,o.N)(),r={time:Math.max(0,e.time-.5)};return(0,i.Y)(n.$,{className:"content-row quiz-row",role:"listitem",onActivate:()=>t(r),children:(0,i.FD)("div",{className:"content-wrapper",children:[(0,i.Y)("div",{className:"content-row-thumbnail",children:(0,i.Y)("i",{className:"icon material-icons","aria-hidden":"true",children:"assignment_turned_in"})}),(0,i.Y)("div",{className:"content-row-label ellipsis",children:e.text}),(0,i.Y)("div",{className:"content-row-time",children:s.formatDuration(Math.floor(e.time),":",!1,0)})]})})}},38123:e=>{e.exports=moment},40775:(e,t,s)=>{var i=s(18187),n=s(41675);Panopto.EmbedEventOverlay=(0,i.bootstrapReactComponent)(n.h)},41594:e=>{e.exports=React},41675:(e,t,s)=>{s.d(t,{h:()=>R});var i=s(54380),n=s(50266),o=s(41594),r=s(22224),a=s(7061),l=s.n(a),d=s(84447),c=s(11135),p=s(28438),h=s(18187),u=s(86427),m=s(93664),b=s(62026),v=s(73816),y=s(25363),g=s(51751),f=s(56996),S=s(15159),I=s(46762),C=s(85822),w=s(75691),T=s(10636),P=s(51736),D=s(22287),N=s(92614),Y=function(e,t,s,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,s,r):n(t,s))||r);return o>3&&r&&Object.defineProperty(t,s,r),r};class R extends o.Component{constructor(e){super(e),this.tabElements={},this.handleEventTabKeyDown=e=>{if(!["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e.key)||!$(e.target).is(".event-tab"))return;const t="ArrowLeft"===e.key||"ArrowUp"===e.key?-1:1;this.setState(((e,s)=>{const i=this.enabledTabs(s),n=i.indexOf(e.visiblePane);return{visiblePane:i[(i.length+n+t)%i.length]}}),(()=>this.tabElements[this.state.visiblePane]?.focus())),e.preventDefault(),e.stopPropagation()},this.handleEventPaneKeyDown=e=>{e.ctrlKey&&"ArrowUp"===e.key&&(this.tabElements[this.state.visiblePane]?.focus(),e.preventDefault(),e.stopPropagation())},this.handleTabSelected=e=>{this.setState({visiblePane:e});C.a[window.location.hash.substring(1)]&&(window.location.hash=`#${e}`)},this.handleContentRowClick=e=>{this.props.isBroadcast||this.props.onSeekRequested(e.time)};const t=new c.Color(Panopto.branding.accentColor).getSafety().toHex();let s;this.container={resources:e.resources,timeHelpers:Panopto.Core.TimeHelpers,stringHelpers:PanoptoTS.StringHelpers,deliveryService:new b.DeliveryService({uriScheme:Panopto.uriScheme,webServerFQDN:Panopto.webServerFQDN,appRoot:Panopto.appRoot}),settings:{discussionModerationEnabled:Panopto.features.enableDiscussionModeration,displayFullNamesInDiscussion:Panopto.features.displayFullNamesInDiscussion},brandColorSafe:t,onAddPositionListener:e.onAddPositionListener,onRemovePositionListener:e.onRemovePositionListener},this.props.delivery.user&&(s=this.props.delivery.user.rating||void 0),this.state={visiblePane:this.props.initialSearchTerm?C.a.Search:this.enabledTabs(e)[0],isActionMenuOpen:!1,deliveryRating:s,isCleanCaptionsDownloadSnackbarOpen:!1}}componentDidMount(){const e=C.a[window.location.hash.substring(1)];e&&this.setState({visiblePane:e})}enabledTabs(e){return r.filter(R.allTabs,(t=>this.isTabEnabled(t,e)))}isTabEnabled(e,t){const s=t||this.props;let i=!1;switch(e){case C.a.Contents:i="all"===s.interactivity&&(this.visibleTocDocuments.length>0||this.visibleTocThumbnails.length>0);break;case C.a.AISummary:i="all"===s.interactivity&&(Panopto.viewer.isAISummaryEnabled||!Panopto.viewer.isAIEvaluationEnabled&&(s.delivery.aiKeyPoints?.length>0||s.delivery.aiSummary?.length>0));break;case C.a.Discussion:i="all"===s.interactivity&&s.areSocialFeaturesEnabled&&s.delivery.discussionEnabled;break;case C.a.Notes:i="all"===s.interactivity&&Boolean(s.userId)&&s.areNotesEnabled;break;case C.a.Info:i=Panopto.features.tagsEnabled;break;case C.a.Search:i="none"!==s.interactivity}return i}get visibleTocDocuments(){return this.props.showAllTocEntries?r.filter(this.props.delivery.contents,(e=>e.isQuestionList||null!==e.url)):r.where(this.props.delivery.contents,{isQuestionList:!0})}get visibleTocThumbnails(){return this.props.delivery.thumbnails.filter((e=>!!e.text?.trim()))}handleSendLogsClicked(){this.props.onSubmitLogs()}getDownloadUrl(){const{delivery:e}=this.props,t=this.props.selectedLanguage??"";return`${(0,d.getAppRootUrl)()}/Pages/Transcription/GenerateSRT.ashx?id=${e.id}&language=${t}&clean=true`}getDownloadFileName(){const{delivery:e,resources:t,selectedLanguage:s}=this.props,i=h.Helpers.getLanguageFriendlyName(s);return`${e.title}_${t.ModalPopup_SessionTranscriptDisplayName}_${i}.txt`}handleCleanCaptionsDownloadClicked(){const e=document.createElement("a");e.href=this.getDownloadUrl(),e.download=this.getDownloadFileName(),e.click(),e.remove(),this.handleActionMenuOpenToggle(!1),this.setState({isCleanCaptionsDownloadSnackbarOpen:!0})}handleActionMenuOpenToggle(e,t){this.setState({isActionMenuOpen:e},t)}render(){const e=["event-overlay"];this.props.isMobile&&e.push("mobile");const t=Boolean(this.props.userId),s=Panopto.user.currentItemPermissions[c.Permission.SessionCommentModerator],n=this.props.areRatingsEnabled&&t,o=this.props.embedStarRatingAlternativeLocation&&n,{isCleanCaptionsDownloadEnabled:r}=this.props,a=r&&this.props.availableCaptions?.length>0,d=n&&!o||a||this.props.showSendLogs;return(0,i.Y)(v.t,{value:this.container,children:(0,i.FD)("div",{className:e.join(" "),onKeyDown:this.props.onKeyDown,children:[(0,i.FD)("div",{className:"tab-strip",role:"tablist",onKeyDown:this.handleEventTabKeyDown,children:[this.isTabEnabled(C.a.Contents)&&(0,i.Y)(I._,{id:f.Y.ContentsTabId,title:this.props.resources.Embed_ContentsTab,paneId:f.Y.ContentsPaneId,materialIcon:"list",onSelected:()=>this.handleTabSelected(C.a.Contents),selected:this.state.visiblePane===C.a.Contents,innerRef:e=>this.tabElements[C.a.Contents]=e}),this.isTabEnabled(C.a.AISummary)&&(0,i.Y)(I._,{id:f.Y.AISummaryTabId,title:this.props.resources.ViewerPlus_AISummaryHeader,paneId:f.Y.AISummaryPaneId,iconElement:(0,i.Y)(l(),{path:p.mf,size:"24px"}),onSelected:()=>this.handleTabSelected(C.a.AISummary),selected:this.state.visiblePane===C.a.AISummary,innerRef:e=>this.tabElements[C.a.AISummary]=e}),this.isTabEnabled(C.a.Discussion)&&(0,i.Y)(I._,{id:f.Y.CommentsTabId,title:this.props.resources.Embed_DiscussionTab,paneId:f.Y.CommentsPaneId,materialIcon:"forum",onSelected:()=>this.handleTabSelected(C.a.Discussion),selected:this.state.visiblePane===C.a.Discussion,innerRef:e=>this.tabElements[C.a.Discussion]=e}),this.isTabEnabled(C.a.Notes)&&(0,i.Y)(I._,{id:f.Y.NotesTabId,title:this.props.resources.Embed_NotesTab,paneId:f.Y.NotesPaneId,materialIcon:"library_books",onSelected:()=>this.handleTabSelected(C.a.Notes),selected:this.state.visiblePane===C.a.Notes,innerRef:e=>this.tabElements[C.a.Notes]=e}),this.isTabEnabled(C.a.Info)&&(0,i.Y)(I._,{id:f.Y.InfoTabId,title:this.props.resources.Info_Embed_Title,paneId:f.Y.InfoPaneId,materialIcon:"info",onSelected:()=>this.handleTabSelected(C.a.Info),selected:this.state.visiblePane===C.a.Info,innerRef:e=>this.tabElements[C.a.Info]=e}),this.isTabEnabled(C.a.Search)&&(0,i.Y)(I._,{id:f.Y.SearchTabId,title:this.props.resources.Embed_SearchTab,paneId:f.Y.SearchPaneId,materialIcon:"search",onSelected:()=>this.handleTabSelected(C.a.Search),selected:this.state.visiblePane===C.a.Search,innerRef:e=>this.tabElements[C.a.Search]=e})]}),d&&(0,i.FD)("div",{className:"action-menu-wrapper",children:[(0,i.FD)(m.i,{title:this.props.resources.Embed_MoreActions,iconCode:"more_vert",isOpen:this.state.isActionMenuOpen,onToggleOpen:this.handleActionMenuOpenToggle,children:[n&&!o&&(0,i.FD)(i.FK,{children:[(0,i.Y)(P.A,{deliveryId:this.props.delivery.id,deliveryRating:this.state.deliveryRating,onRatingUpdated:e=>this.setState({deliveryRating:e}),darkTheme:this.props.isLandscape}),(this.props.showSendLogs||a)&&(0,i.Y)("hr",{})]}),a&&(0,i.FD)(i.FK,{children:[(0,i.Y)(u.$,{className:"button textMenuItem",onActivate:this.handleCleanCaptionsDownloadClicked,children:this.props.resources.Embed_CleanCaptionsDownload_Button}),this.props.showSendLogs&&(0,i.Y)("hr",{})]}),this.props.showSendLogs&&(0,i.Y)(u.$,{className:"button textMenuItem",onActivate:this.handleSendLogsClicked,children:this.props.resources.SendLogs})]}),(0,i.Y)(h.Hig.Snackbar,{open:this.state.isCleanCaptionsDownloadSnackbarOpen,onClose:()=>this.setState({isCleanCaptionsDownloadSnackbarOpen:!1}),message:this.props.resources.Embed_CleanCaptionsDownload_Snackbar,color:"info-embed"})]}),(0,i.FD)("div",{className:"event-pane-container",onKeyDown:this.handleEventPaneKeyDown,children:[this.isTabEnabled(C.a.Contents)&&(0,i.Y)(S.H,{id:f.Y.ContentsPaneId,tabId:f.Y.ContentsTabId,selected:this.state.visiblePane===C.a.Contents,thumbnails:this.visibleTocThumbnails,contents:this.visibleTocDocuments,onContentRowClick:this.handleContentRowClick}),this.isTabEnabled(C.a.AISummary)&&this.state.visiblePane===C.a.AISummary&&(0,i.Y)(y.U,{isEmbed:!0,isLandscape:this.props.isLandscape,keyPoints:this.props.delivery.aiKeyPoints,summary:this.props.delivery.aiSummary}),this.isTabEnabled(C.a.Discussion)&&(0,i.Y)(N.b,{sessionId:this.props.sessionId,deliveryId:this.props.delivery.id,commentPollingInterval:this.props.delivery.broadcastRefreshInterval,userKey:this.props.delivery.user.key,userFullName:this.props.delivery.user.name,inviteToken:this.props.inviteId,userIsModerator:s,isBroadcast:this.props.isBroadcast,sessionsService:Panopto.Core.ServiceInterface.Rest.Sessions,render:(e,s,n,o,r,a,l,d,c,p,h,u,m,b,v,y,S,I,w,T,P)=>(0,i.Y)(g._,{isInteractiveViewer:!1,id:f.Y.CommentsPaneId,tabId:f.Y.CommentsTabId,selected:this.state.visiblePane===C.a.Discussion,replyingTo:n,addedComment:o,isAuthenticated:t,loginUrl:this.props.loginUrl,onInputSubmit:r,onInlineReplySubmit:a,threads:e,isLoading:s,isLandscape:this.props.isLandscape,isDiscussionDownloadEnabled:this.props.isDiscussionDownloadEnabled,isMobileApp:this.props.isMobileApp,onContentRowTimeClick:this.handleContentRowClick,onSetThreadExpanded:l,onReply:d,onDelete:c,inputRef:b,defaultCommentVisibility:h,newCommentVisibility:u,editingComment:p,discussionFilter:m,toggleThreadVisibility:v,changeDefaultCommentVisibility:y,changeNewCommentVisibility:S,changeCommentFilter:I,onEdit:w,onRetry:T,onDownloadDiscussionClicked:P})}),this.isTabEnabled(C.a.Notes)&&(0,i.Y)(T.h,{id:f.Y.NotesPaneId,tabId:f.Y.NotesTabId,selected:this.state.visiblePane===C.a.Notes,deliveryId:this.props.delivery.id,isLandscape:this.props.isLandscape,isBroadcast:this.props.isBroadcast,onContentRowClick:this.handleContentRowClick}),this.isTabEnabled(C.a.Info)&&(0,i.Y)(w.k,{id:f.Y.InfoPaneId,tabId:f.Y.InfoTabId,selected:this.state.visiblePane===C.a.Info,isLandscape:this.props.isLandscape,tags:this.props.delivery.tags,sessionTitle:this.props.delivery.title,description:this.props.delivery.description,sessionId:this.props.delivery.id,isMobileApp:this.props.isMobileApp,tagsService:Panopto.Core.ServiceInterface.Rest.TagsRequest,subscriptionService:Panopto.Core.ServiceInterface.Rest.SubscriptionRequest,userService:Panopto.Core.ServiceInterface.Rest.Users,onContentRowClick:this.handleContentRowClick}),this.isTabEnabled(C.a.Search)&&(0,i.Y)(D.O,{id:f.Y.SearchPaneId,tabId:f.Y.SearchTabId,selected:this.state.visiblePane===C.a.Search,deliveryId:this.props.delivery.id,isLandscape:this.props.isLandscape,onContentRowClick:this.handleContentRowClick,initialSearchTerm:this.props.initialSearchTerm})]})]})})}}R.allTabs=[C.a.Contents,C.a.AISummary,C.a.Discussion,C.a.Notes,C.a.Info,C.a.Search],Y([n.Q2],R.prototype,"handleSendLogsClicked",null),Y([n.Q2],R.prototype,"handleCleanCaptionsDownloadClicked",null),Y([n.Q2],R.prototype,"handleActionMenuOpenToggle",null)},46762:(e,t,s)=>{s.d(t,{_:()=>o});var i=s(54380),n=s(41594);class o extends n.Component{constructor(e){super(e),this.handleMouseDown=()=>{this.props.onSelected(),this.setState({clicked:!0})},this.handleBlur=()=>{this.setState({clicked:!1})},this.state={clicked:!1}}render(){const e=["event-tab"];this.props.selected&&e.push("selected"),this.state.clicked&&e.push("clicked");const t=["button","material-icons"],s=["button","icon-element"];return this.props.selected&&t.push("safety-accent-border"),this.props.selected&&s.push("safety-accent-border"),(0,i.FD)("div",{id:this.props.id,className:e.join(" "),role:"tab",title:this.props.title,"aria-controls":this.props.paneId,"aria-selected":this.props.selected,tabIndex:this.props.selected?0:-1,ref:this.props.innerRef,onMouseDown:this.handleMouseDown,onBlur:this.handleBlur,children:[this.props.materialIcon&&(0,i.Y)("i",{className:t.join(" "),"aria-hidden":"true",children:this.props.materialIcon}),this.props.iconElement&&(0,i.Y)("div",{className:s.join(" "),children:this.props.iconElement})]})}}},51736:(e,t,s)=>{s.d(t,{A:()=>p});var i=s(54380),n=s(41594),o=s(22224),r=s(11135),a=s(18187),l=s(62026),d=s(85714);class c extends n.Component{constructor(e){super(e),this.lastRequestId=0,this.confirmationTimeoutId=0,this.handleSelectRating=async e=>{this.lastRequestId++;const t=this.lastRequestId;clearTimeout(this.confirmationTimeoutId);const s=this.props.deliveryRating;if(e&&e!==s){this.setState({isSaving:!0,showConfirmation:!1}),this.props.onRatingUpdated(e);try{if(await l.Services.rateDelivery(this.props.deliveryId,e),t!==this.lastRequestId)return;this.setState({isSaving:!1}),this.showRatingConfirmation()}catch{if(t!==this.lastRequestId)return;alert(this.props.t("Embed_RatingSaveFailed")),this.props.onRatingUpdated(s),this.setState({isSaving:!1})}}},this.handleSelectRatingThrottled=o.throttle(this.handleSelectRating,c.ratingSelectionPeriod),this.showRatingConfirmation=()=>{this.setState({showConfirmation:!0}),this.confirmationTimeoutId=window.setTimeout((()=>this.setState({showConfirmation:!1})),c.confirmationDisplayPeriod)},this.state={showConfirmation:!1,isSaving:!1}}render(){const e=this.state.showConfirmation?this.props.t("Embed_ThanksForRating"):this.props.deliveryRating?this.props.t("Embed_YourRating"):this.props.t("Embed_RateThisVideo");return(0,i.FD)("div",{className:"rating-menu-item",tabIndex:0,children:[(0,i.FD)("div",{className:"label",children:[e,this.state.isSaving&&(0,i.Y)(d.J,{className:"loading-spinner",fillColor:(0,r.getPrimaryColorHex)()})]}),(0,i.Y)(a.Input.RatingSelector,{currentRating:this.props.deliveryRating,darkTheme:this.props.darkTheme,onRatingSelected:this.handleSelectRatingThrottled,isEmbed:!0})]})}}c.confirmationDisplayPeriod=2e3,c.ratingSelectionPeriod=500;const p=e=>{const{t,i18n:s,ready:n}=a.I18n.useTranslation("viewer");return(0,i.Y)(c,{...e,t,i18n:s,tReady:n})}},54782:e=>{e.exports=PanoptoStyles},56996:(e,t,s)=>{s.d(t,{Y:()=>i});class i{}i.ContentsTabId="contentsTab",i.ContentsPaneId="contentsPane",i.AISummaryTabId="aiSummaryTab",i.AISummaryPaneId="aiSummaryPane",i.CommentsTabId="commentsTab",i.CommentsPaneId="commentsPane",i.InfoTabId="infoTab",i.InfoPaneId="infoPane",i.NotesTabId="notesTab",i.NotesPaneId="notesPane",i.SearchTabId="searchTab",i.SearchPaneId="searchPane"},58006:(e,t,s)=>{s.d(t,{K:()=>a});var i=s(54380),n=s(86427),o=s(73816),r=s(68145);const a=({content:e,onClick:t})=>{const s=["icon material-icons"];s.push(r.N[e.type]||"contents");const{timeHelpers:a}=(0,o.N)();return(0,i.Y)(n.$,{className:"content-row",role:"listitem",onActivate:t,children:(0,i.FD)("div",{className:"content-wrapper",children:[(0,i.Y)("div",{className:s.join(" "),children:"OCROutput"===e.type&&(0,i.Y)("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,i.FD)("g",{id:"icon/_custom/ocr",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",children:[(0,i.FD)("g",{id:"Group",children:[(0,i.Y)("polygon",{points:"0 0 24.0000001 0 24.0000001 24.0000001 0 24.0000001"}),(0,i.Y)("path",{fill:"currentColor",d:"M3.00000001,5.00000001 L3.00000001,9.00000001 L5.00000001,9.00000001 L5.00000001,5.00000001 L9.00000001,5.00000001 L9.00000001,3.00000001 L5.00000001,3.00000001 C3.90000002,3.00000001 3.00000001,3.90000002 3.00000001,5.00000001 Z M5.00000001,15.0000001 L3.00000001,15.0000001 L3.00000001,19.0000001 C3.00000001,20.1000001 3.90000002,21.0000001 5.00000001,21.0000001 L9.00000001,21.0000001 L9.00000001,19.0000001 L5.00000001,19.0000001 L5.00000001,15.0000001 Z M19.0000001,19.0000001 L15.0000001,19.0000001 L15.0000001,21.0000001 L19.0000001,21.0000001 C20.1000001,21.0000001 21.0000001,20.1000001 21.0000001,19.0000001 L21.0000001,15.0000001 L19.0000001,15.0000001 L19.0000001,19.0000001 Z M19.0000001,3.00000001 L15.0000001,3.00000001 L15.0000001,5.00000001 L19.0000001,5.00000001 L19.0000001,9.00000001 L21.0000001,9.00000001 L21.0000001,5.00000001 C21.0000001,3.90000002 20.1000001,3.00000001 19.0000001,3.00000001 Z"})]}),(0,i.Y)("polygon",{fill:"currentColor",points:"14.0000001 17.0000001 7.00000003 17.0000001 7.00000003 15.0000001 14.0000001 15.0000001"}),(0,i.Y)("polygon",{fill:"currentColor",points:"17.0000001 13.0000001 7.00000003 13.0000001 7.00000003 11 17.0000001 11"}),(0,i.Y)("polygon",{fill:"currentColor",points:"17.0000001 9.00000004 7.00000003 9.00000004 7.00000003 7.00000003 17.0000001 7.00000003"})]})})}),(0,i.Y)("div",{className:"content-row-label",children:(0,i.Y)("span",{dangerouslySetInnerHTML:{__html:(l=e.text,Panopto.Core.TextHelpers.cleanTextWithHighlighting(l))}})}),(0,i.Y)("div",{className:"content-row-time",children:a.formatDuration(Math.round(e.time),":",!1,0)})]})});var l}},62026:e=>{e.exports=PanoptoViewer},63115:(e,t,s)=>{s.d(t,{H:()=>r});var i=s(54380),n=s(86427),o=s(73816);const r=({thumbnail:e,onClick:t})=>{const{timeHelpers:s}=(0,o.N)(),r=e.queryParams?Panopto.Core.StringHelpers.addQueryParameter(PanoptoTS.Viewer.Constants.ThumbUrl,e.queryParams):Panopto.cacheRoot+"/Images/no_thumbnail.svg";return(0,i.Y)(n.$,{className:"content-row",role:"listitem",onActivate:()=>t(e),children:(0,i.FD)("div",{className:"content-wrapper",children:[(0,i.Y)("div",{className:"content-row-thumbnail",style:{backgroundImage:`url(${r})`}}),(0,i.Y)("div",{className:"content-row-label ellipsis",dir:"auto",children:e.text}),(0,i.Y)("div",{className:"content-row-time",children:s.formatDuration(Math.floor(e.time),":",!1,0)})]})})}},63710:(e,t,s)=>{s.d(t,{n:()=>m});var i=s(54380),n=s(50266),o=s(41594),r=s(11135),a=s(73816),l=s(51176),d=s(149),c=s(29419),p=s(28902),h=function(e,t,s,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,s,r):n(t,s))||r);return o>3&&r&&Object.defineProperty(t,s,r),r};class u extends o.Component{componentDidUpdate(e){this.props.selected&&this.props.isLandscape!==e.isLandscape&&r.Browser.$_mobile&&this.input.blur()}handleSubmit(e,t){this.props.onInputSubmit(e,t),r.Browser.$_mobile&&this.input.blur()}render(){return(0,i.FD)(d.N,{id:this.props.id,tabId:this.props.tabId,className:"notes",selected:this.props.selected,children:[(0,i.Y)("div",{className:"scroll-container",children:(0,i.Y)(l.u,{children:this.props.notes.map((e=>(0,i.Y)(c.c,{content:e,scrollIntoView:this.props.addedNote&&e.id===this.props.addedNote.id,onClick:()=>this.props.onContentRowClick(e),onDelete:()=>this.props.onDelete(e)},e.id)))})}),(0,i.Y)(p.K,{inputRef:e=>this.input=e,placeholderText:this.props.resources.Embed_AddNoteAt,onSubmit:this.handleSubmit})]})}}h([n.Q2],u.prototype,"handleSubmit",null);const m=e=>(0,i.Y)(u,{...e,...(0,a.N)()})},68145:(e,t,s)=>{s.d(t,{N:()=>i});const i={Bookmarks:"bookmarks",Notes:"notes",Comments:"comments",Transcript:"transcript",UserCreatedTranscript:"user-created-transcript",MachineTranscript:"machine-transcript",OCROutput:"ocr-output",youtube:"youtube"}},75691:(e,t,s)=>{s.d(t,{k:()=>d});var i=s(54380),n=s(41594),o=s(73816),r=s(87883),a=s(149);class l extends n.Component{constructor(e){super(e),this.state={tagList:void 0}}componentDidMount(){this.setState({tagList:PanoptoTS.Viewer.Data.TagHelper.convertDeliveryToModel(this.props.tags)})}componentDidUpdate(e){e.tags!==this.props.tags&&this.setState({tagList:PanoptoTS.Viewer.Data.TagHelper.convertDeliveryToModel(this.props.tags)})}render(){return(0,i.Y)(a.N,{id:this.props.id,tabId:this.props.tabId,className:"contents",selected:this.props.selected,children:(0,i.FD)("div",{className:"scroll-container information-pane",children:[(0,i.Y)("div",{className:"information-title",children:this.props.sessionTitle}),this.props.description?.trim()&&(0,i.Y)("div",{className:"description",children:this.props.description}),!!this.state.tagList?.length&&(0,i.Y)(r.d,{initialTags:this.state.tagList,fetchTags:!1,canAdd:!1,canDelete:!1,darkMode:this.props.isLandscape,searchOnClick:!this.props.isMobileApp,searchInNewTab:!0,sessionId:this.props.sessionId,tagsService:this.props.tagsService,subscriptionService:this.props.subscriptionService,userService:this.props.userService,resources:this.props.resources})]})})}}const d=e=>(0,i.Y)(l,{...e,...(0,o.N)()})},84447:e=>{e.exports=PanoptoApiClient},85822:(e,t,s)=>{var i;s.d(t,{a:()=>i}),function(e){e.Contents="Contents",e.AISummary="AISummary",e.Notes="Notes",e.Discussion="Discussion",e.Search="Search",e.Info="Info"}(i||(i={}))},93664:(e,t,s)=>{s.d(t,{i:()=>l});var i=s(54380),n=s(50266),o=s(41594),r=s(86427),a=function(e,t,s,i){var n,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,s,r):n(t,s))||r);return o>3&&r&&Object.defineProperty(t,s,r),r};class l extends o.Component{constructor(){super(...arguments),this.ignoreNextMenuButtonClick=!1,this.handleMenuButtonActivate=e=>{const t=e.type;"click"===t&&this.ignoreNextMenuButtonClick||this.props.onToggleOpen(!0,(()=>this.focusMenu({keyboardInitiated:"click"!==t})))},this.focusMenu=({keyboardInitiated:e=!1})=>{if(!this.menuElement)return;const t=$(this.menuElement).find(":tabbable").first();t.focus(),e||t.addClass("clicked").one("blur",(()=>t.removeClass("clicked")))},this.handleMenuBlur=()=>{this.blurTimeoutId=window.setTimeout((()=>{this.props.onToggleOpen(!1)}))},this.handleMenuFocus=()=>{window.clearTimeout(this.blurTimeoutId)},this.handleMenuKeyDown=e=>{"Escape"===e.key&&(this.props.onToggleOpen(!1,(()=>this.buttonElement?.focus())),e.preventDefault(),e.stopPropagation())}}handleMenuButtonMouseDown(){this.ignoreNextMenuButtonClick=this.props.isOpen}render(){return(0,i.FD)(i.FK,{children:[(0,i.Y)(r.$,{className:"button",title:this.props.title,isMenuButton:!0,isMenuOpen:this.props.isOpen,iconCode:this.props.iconCode,onActivate:this.handleMenuButtonActivate,onMouseDown:this.handleMenuButtonMouseDown,innerRef:e=>this.buttonElement=e,children:!this.props.iconCode&&this.props.menuButtonContents}),this.props.isOpen&&(0,i.Y)("div",{className:"popup-menu",role:"menu","aria-label":this.props.title,ref:e=>e&&(this.menuElement=e),onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeyDown:this.handleMenuKeyDown,children:this.props.children})]})}}a([n.Q2],l.prototype,"handleMenuButtonMouseDown",null)}},s={};function i(e){var n=s[e];if(void 0!==n)return n.exports;var o=s[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,s,n,o)=>{if(!s){var r=1/0;for(c=0;c<e.length;c++){for(var[s,n,o]=e[c],a=!0,l=0;l<s.length;l++)(!1&o||r>=o)&&Object.keys(i.O).every((e=>i.O[e](s[l])))?s.splice(l--,1):(a=!1,o<r&&(r=o));if(a){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=2327,(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var n=s.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=s[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b=document.baseURI||self.location.href;var e={2327:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var n,o,[r,a,l]=s,d=0;if(r.some((t=>0!==e[t]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)var c=l(i)}for(t&&t(s);d<r.length;d++)o=r[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},s=this.webpackChunk_panopto_webpack=this.webpackChunk_panopto_webpack||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),i.nc=void 0;var n=i.O(void 0,[4223],(()=>i(40775)));n=i.O(n)})();
//# sourceMappingURL=file://engfs.d.panopto.com/share/jenkinsbuilds/rel_rtc_16.1.3/16.1.3.00058/_PublishedWebsites/WebUI/Scripts/Panopto/Bundles/EventOverlayFactory.js.map